(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dcbe0de"],{"1a19":function(t,a,e){"use strict";var s=e("e443"),n=e("4328"),i=e.n(n);a["a"]={articleList:function(t){return console.log(t),s["a"].get("/api/a/article/search",{params:t})},putStatus:function(t){return s["a"].put("/api/a/u/article/status",i.a.stringify(t))},putArticle:function(t,a){return s["a"].put("/api/a/u/article/".concat(t),i.a.stringify(a))},addArticle:function(t){return s["a"].post("/api/a/u/article",i.a.stringify(t))},deleteArticle:function(t){return s["a"].delete("/api/a/u/article/".concat(t))},getArticle:function(t){return s["a"].get("/api/a/article/".concat(t))},uploadImg:function(t,a){return s["a"].post("/api/a/u/img/task",t,a)}}},"81f2":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"Article"},[e("header",[e("div",{staticClass:"container"},[e("div",[e("span",{staticClass:"words"},[t._v("发布时间")]),e("el-date-picker",{attrs:{"value-format":"timestamp","picker-options":t.pickerOptionsStart,placeholder:"选择日期"},model:{value:t.params.startAt,callback:function(a){t.$set(t.params,"startAt",a)},expression:"params.startAt"}}),e("i",{staticClass:"words"},[t._v("一")]),e("el-date-picker",{attrs:{type:"date","value-format":"timestamp","picker-options":t.pickerOptionsEnd,placeholder:"选择日期"},model:{value:t.params.endAt,callback:function(a){t.$set(t.params,"endAt",a)},expression:"params.endAt"}})],1),e("div",[e("span",{staticClass:"words"},[t._v("类  型")]),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.params.type,callback:function(a){t.$set(t.params,"type",a)},expression:"params.type"}},t._l(t.typeArray,(function(t){return e("el-option",{key:t.value,staticStyle:{"padding-left":"15px"},attrs:{value:t.value,label:t.label}})})),1)],1)]),e("div",{staticClass:"c"},[e("span",{staticClass:"words"},[t._v("状  态")]),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.params.status,callback:function(a){t.$set(t.params,"status",a)},expression:"params.status"}},t._l(t.status,(function(t){return e("el-option",{key:t.value,staticStyle:{"padding-left":"15px"},attrs:{value:t.value,label:t.label}})})),1)],1),e("div",{staticClass:"btn"},[e("div",[e("el-button",{attrs:{icon:"el-icon-search",type:"success"},on:{click:t.search}},[t._v("搜索")]),e("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:t.reset}},[t._v("清空")])],1)])]),e("main",[e("div",{staticClass:"main-top"},[e("strong",[t._v("Article列表")]),e("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-plus",type:"success"},on:{click:t.add}},[t._v("新增")])],1),e("div",{staticClass:"main-in"},[0===t.articleList.length?e("div",{staticClass:"no"},[t._v("暂无数据")]):e("table",[t._m(0),e("tbody",t._l(t.articleList,(function(a,s){return e("tr",{key:s,class:{active:s%2!=1},staticStyle:{border:"1px solid #ddd"}},[e("td",{attrs:{align:"center"}},[t._v(t._s(s+1))]),e("td",[e("img",{attrs:{src:a.img,alt:""}})]),e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(t._f("typeFilter")(a.type)))]),e("td",[t._v(t._s(a.author))]),e("td",[t._v(t._s(t._f("timeFilter")(a.createAt)))]),e("td",[t._v(t._s(t._f("timeFilter")(a.updateAt)))]),e("td",[t._v(t._s(t._f("statusFilter")(a.status)))]),e("td",[e("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-refresh",type:"primary"},on:{click:function(e){return t.update(a)}}},[t._v(t._s(t._f("updFilter")(a.status)))]),e("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-edit",type:"success"},on:{click:function(e){return t.edit(a.id)}}},[t._v("\n                                    编辑")]),e("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.del(a.id)}}},[t._v("\n                                    删除")])],1)])})),0)])])]),e("footer",[e("span",{staticClass:"yss"},[t._v("每页显示\n                "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.params.size,expression:"params.size"}],staticClass:"ys",attrs:{type:"text"},domProps:{value:t.params.size},on:{input:function(a){a.target.composing||t.$set(t.params,"size",a.target.value)}}}),t._v("\n                条\n            ")]),e("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper","current-page":t.params.page,total:10*t.allPage},on:{"update:currentPage":function(a){return t.$set(t.params,"page",a)},"update:current-page":function(a){return t.$set(t.params,"page",a)},"current-change":t.handleCurrentChange}}),e("button",{on:{"!click":function(a){return t.handleSizeChange(a)}}},[t._v("确定")])],1)])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"width1"},[t._v("序号")]),e("th",{staticClass:"width1"},[t._v("图片")]),e("th",{staticClass:"width1"},[t._v("标题")]),e("th",{staticClass:"width1"},[t._v("类型")]),e("th",{staticClass:"width1"},[t._v("创建者")]),e("th",{staticClass:"width1"},[t._v("创建时间")]),e("th",{staticClass:"width1"},[t._v("修改时间")]),e("th",{staticClass:"width1"},[t._v("状态")]),e("th",{staticClass:"width2"},[t._v("操作")])])])}],i=e("1a19"),r={data:function(){return{typeArray:[{value:0,label:"首页banner"},{value:1,label:"找职位banner"},{value:2,label:"找精英banner"},{value:3,label:"行业大图"}],status:[{value:null,label:"全部"},{value:2,label:"上线"},{value:1,label:"草稿"}],articleList:"",total:"",allPage:"",params:{page:1,size:10,type:"",status:null,startAt:null,endAt:null},pickerOptionsStart:this.changeStart(),pickerOptionsEnd:this.changeEnd()}},created:function(){this.typeArray.unshift({value:"",label:"全部"});var t=JSON.parse(sessionStorage.getItem("p"));console.log(null!==t),null!==t&&(this.params=t),console.log(this.params),this.getArticle()},methods:{getArticle:function(){var t=this;sessionStorage.setItem("p",JSON.stringify(this.params)),console.log(this.params),i["a"].articleList(this.params).then((function(a){console.log(a),t.total=a.data.data.total,t.params.size=a.data.data.size,t.articleList=a.data.data.articleList,t.allPage=Math.ceil(t.total/t.params.size)}))},changeStart:function(){var t=this;return{disabledDate:function(a){return t.params.endAt?a.getTime()>t.params.endAt:a.getTime()>Date.now()}}},changeEnd:function(){var t=this;return{disabledDate:function(a){return t.params.startAt&&a.getTime()<t.params.startAt||a.getTime()>Date.now()}}},search:function(){this.getArticle()},reset:function(){this.params={page:1,size:10,type:"",status:null,startAt:null,endAt:null},this.getArticle()},add:function(){this.$router.push({path:"ArticleDetail",query:{status:"add"}})},update:function(t){var a=this;console.log(t);var e={id:t.id,status:2===t.status?1:2},s=2===e.status?"上":"下";this.$confirm("此操作将".concat(s,"线, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){i["a"].putStatus(e).then((function(t){0===t.data.code?(a.$messageBox("".concat(s,"线成功"),"success"),a.getArticle()):a.$messageBox("".concat(s,"线失败"),"error")})).catch((function(t){a.$messageBox("系统错误","error")}))})).catch((function(){a.$messageBox("已取消","info")}))},edit:function(t){console.log(t),this.$router.push({path:"ArticleDetail",query:{id:t,status:"edit"}})},del:function(t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){i["a"].deleteArticle(t).then((function(t){console.log(t),a.$messageBox("删除成功","success"),a.getArticle()})).catch((function(t){console.log(t),a.$messageBox("删除失败，服务器出错","error")}))})).catch((function(){a.$messageBox("已取消删除","info")}))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.params.page=+t,this.getArticle(this.params)},handleSizeChange:function(){console.log("当前显示个数: ".concat(this.params.size)),this.getArticle(this.params)}}},l=r,c=(e("ed66"),e("2877")),o=Object(c["a"])(l,s,n,!1,null,"ce221b10",null);a["default"]=o.exports},"8f25":function(t,a,e){},ed66:function(t,a,e){"use strict";var s=e("8f25"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-6dcbe0de.59373c3c.js.map